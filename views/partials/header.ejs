<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>AUCTION SITE</title>
    <!-- font awesome cdn	 -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- bootstrap stylesheet -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />

    <!-- my stylesheet -->
    <link rel="stylesheet" type="text/css" href="/stylesheets/app.css" />
  </head>
  <body>
    <div class="container maincontainer">
      <!-- NAV BAR -->
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <span class="">AUCTION-SITE</span>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarText"
          aria-controls="navbarText"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="/">
                Home
                <i class="fa fa-home" aria-hidden="true"></i>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/product/new">
                Sell Product
                <i class="fa fa-shopping-cart" aria-hidden="true"></i>
              </a>
            </li>

          </ul>
          
          <span class="navbar-text">
            <ul class="navbar-nav mr-auto">
              <%if(!currentUser){ %>
              <li>
                <a class="nav-link" data-toggle="modal" data-target="#loginModal">
                  <i class="fa fa-sign-in" aria-hidden="true"></i>
                  Login
                </a>
              </li>
              <li>
                <a class="nav-link" data-toggle="modal" data-target="#signupModal">
                  <i class="fa fa-user-plus" aria-hidden="true"></i>
                  Sign Up
                </a>
              </li>
              <%} else { %>
              <li>
                <a class="nav-link" href="#">
                  <%= currentUser.username%>
                  <i class="fa fa-user" aria-hidden="true"></i>
                </a>
              </li>
              <li>
                <a class="nav-link" href="/logout">
                  Logout
                  <i class="fa fa-sign-out" aria-hidden="true"></i>
                </a>
              </li>
              <% } %>
            </ul>
          </span>
        </div>
      </nav>

<!--LOGIN MODAL-->
  <div id="loginModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg" role="content">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Login</h4>
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form action="/login" method="POST">
            <div class="form-row">
              <div class="form-group col-sm-4">
                
                <input
                  type="text"
                  class="form-control form-control-sm mr-1"
                  id="username"
                  name="username"
                  required
                  placeholder="Enter Username"
                />
              </div>
              <div class="form-group col-sm-4">
                
                <input
                  type="password"
                  class="form-control form-control-sm mr-1"
                  id="password"
                  name="password"
                  required
                  placeholder="Password"
                />
              </div>

            </div>
            <div class="form-row">
              <button
                type="button"
                class="btn btn-secondary btn-sm ml-auto"
                data-dismiss="modal"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary btn-sm ml-1">
                Sign in
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  
  <!--SIGNUP MODAL-->
  <div id="signupModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg" role="content">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Create An Account</h4>
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <form action="/register" method="POST">
            <div class="form-row">
              <div class="form-group col-sm-8">               
                <input
                  type="text"
                  class="form-control form-control-sm mr-1"
                  id="name"
                  name="name" 
                  required
                  placeholder="Enter your name"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-sm-8">
                <input
                  type="text"
                  class="form-control form-control-sm mr-1"
                  id="email" 
                  name="email"
                  required
                  placeholder="Enter your email"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-sm-8">
                <input
                  type="text"
                  class="form-control form-control-sm mr-1"
                  id="username" 
                  name="username"
                  required
                  placeholder="Create a username (max length 10)"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-sm-8">
                <input
                  type="password"
                  class="form-control form-control-sm mr-1"
                  id="password" 
                  name="password"
                  required
                  placeholder="Enter a password"
                />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-sm-8">
                <select class="form-control" name="type">
                  <option value="seller">Seller</option>
                  <option value="buyer">Buyer</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <button
                type="button"
                class="btn btn-secondary btn-sm ml-auto"
                data-dismiss="modal"
              >
                Cancel
              </button>
              <button type="submit" class="btn btn-primary btn-sm ml-1">
                Sign in
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

      <div class="">
        <% if(error && error.length>0){ %>
        <div class="alert alert-danger"><%= error %></div>
        <% } %> <% if(success && success.length>0){ %>
        <div class="alert alert-success"><%= success %></div>
        <% } %>
      </div>
  </body>
</html>
